#!/usr/bin/python3
import hashlib
import os
import requests

url = "https://drive.google.com/uc?export=download&id=1y9LaJjOozK3X0HAuNg8HcR19iNyS64My"
testing = False


def alive():
    if testing:
        with open(os.path.dirname(__file__) + '/../public-files/algo.py', 'rb') as f:
            content = f.read()
    else:
        content = requests.get(url).content
    computedHash = hashlib.md5(content).hexdigest()
    if computedHash != "3977cad5f4529109241d8939bc5e7e28":
        return False
    return True


def exploitable():
    # CF ../writeup.md for explanation
    return True


if __name__ == "__main__":
    if alive() and exploitable():
        exit(0)
    exit(1)
